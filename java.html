<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>audio converter</title>
    <style>
    :root {
        --primary: #0066ff;
        --gradient: linear-gradient(135deg, #0066ff, #2c79ff);
        --shadow: 0 8px 30px rgba(0,0,0,0.12);
    }
    
    body {
        font-family: system-ui, -apple-system, sans-serif;
        max-width: 600px;
        margin: 2rem auto;
        padding: 0 1rem;
        background: #008779;
        color: #333;
        min-height: 100vh;
        display: grid;
        place-items: center;
    }

    .container {
        background: rgb(255, 255, 255);
        padding: 3rem;
        border-radius: 16px;
        box-shadow: var(--shadow);
        width: 100%;
        transition: transform 0.2s ease;
    }

    .container:hover {
        transform: translateY(-4px);
    }

    h1 {
        background: rgb(255, 0, 0);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        margin-bottom: 1.5rem;
    }

    textarea {
        width: 100%;
        height: 150px;
        padding: 1rem;
        margin: 1rem 0;
        border: 2px solid #eee;
        border-radius: 12px;
        resize: vertical;
        transition: all 0.3s ease;
        font-size: 1rem;
        line-height: 1.5;
    }

    textarea:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(0, 0, 0, 0.1);
    }

    .controls {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
    }

    button {
        padding: 0.75rem 1.25rem;
        background: var(--gradient);
        color: white;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s ease;
        flex: 1;
        min-width: 100px;
    }

    button:hover {
        opacity: 0.9;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgb(246, 242, 17);
    }

    button:active {
        transform: translateY(0);
    }

    select {
        padding: 0.75rem;
        border: 2px solid #eee;
        border-radius: 8px;
        flex: 2;
        min-width: 200px;
        cursor: pointer;
        background: white;
        transition: all 0.3s ease;
    }

    select:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 4px rgba(0,102,255,0.1);
    }

    /* Loading animation for speaking state */
    @keyframes pulse {
        0% { opacity: 1; }
        50% { opacity: 0.4; }
        100% { opacity: 1; }
    }

    .speaking {
        animation: pulse 1.5s infinite;
    }

    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
        .container {
            background: #1a1a1a;
            color: #fff;
        }
        
        textarea, select {
            background: #2d2d2d;
            border-color: #404040;
            color: #fff;
        }
        
        textarea:focus, select:focus {
            border-color: var(--primary);
        }
    }

    /* Responsive adjustments */
    @media (max-width: 480px) {
        .controls {
            flex-direction: column;
        }
        
        select, button {
            width: 100%;
        }
    }
</style>
    </head>
<body>
<div class="container">
        <h1>Text to Speech</h1>
        <textarea id="text" placeholder="Enter text to speak...">vanakkam da mapala.</textarea>
        
        <div class="controls">
            <select id="voices"></select>
            <button onclick="speak()">Speak</button>
            <button onclick="stop()">Stop</button>
        </div>
    </div>

    <script>
        let speechSynth = window.speechSynthesis;
        let voices = [];
        let currentUtterance = null;

        // Load voices when they're available
        speechSynth.addEventListener('voiceschanged', () => {
            voices = speechSynth.getVoices();
            const voiceSelect = document.getElementById('voices');
            
            voiceSelect.innerHTML = voices
                .map((voice, index) => 
                    `<option value="${index}">${voice.name} (${voice.lang})</option>`)
                .join('');
        });

        function speak() {
            // Stop any ongoing speech
            stop();

            const text = document.getElementById('text').value;
            const voiceIndex = document.getElementById('voices').value;

            if (text) {
                currentUtterance = new SpeechSynthesisUtterance(text);
                currentUtterance.voice = voices[voiceIndex];
                currentUtterance.rate = 1;
                currentUtterance.pitch = 1;
                speechSynth.speak(currentUtterance);
            }
        }

        function pause() {
            if (speechSynth.speaking) {
                speechSynth.pause();
            }
        }

        function resume() {
            if (speechSynth.paused) {
                speechSynth.resume();
            }
        }

        function stop() {
            speechSynth.cancel();
        }
    </script>
</body>
</html>